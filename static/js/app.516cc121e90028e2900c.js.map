{"version":3,"sources":["webpack:///static/js/app.516cc121e90028e2900c.js","webpack:///./src/components/GraphView.vue?39c1","webpack:///./src/components/VideoPreview.vue","webpack:///./src/components/Window.vue?c927","webpack:///./src/components/Window.vue?733f","webpack:///./src/App.vue?2e3e","webpack:///./src/components/GraphView.vue?b8f0","webpack:///./src/components/VideoPreview.vue?1088","webpack:///./src/App.vue?fc6a","webpack:///./src/lib/ProgressToken.js","webpack:///./src/lib/clap.js","webpack:///./src/lib/drag.js","webpack:///./src/lib/geom.js","webpack:///./src/lib/graphBuilder.js","webpack:///./src/lib/restClient.js","webpack:///./src/lib/youtubeClient.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///GraphView.vue","webpack:///VideoPreview.vue","webpack:///Window.vue"],"names":["webpackJsonp","112","module","exports","113","114","115","143","__webpack_require__","Component","144","145","146","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","getStyle","ref","_v","_s","title","attrs","on","click","$event","preventDefault","requestClose","_t","staticRenderFns","147","id","graph","currentGraph","selected","onVideoSelected","submit","searchFormSubmitHandler","directives","name","rawName","value","expression","type","placeholder","autofocus","domProps","input","target","composing","searchString","logMessage","_e","videoId","selectedVideo","close","closeVideo","showAbout","_m","href","staticStyle","text-align","148","_l","edge","stroke","data-from","fromId","data-to","toId","d","computeLinkPath","marker-end","node","width","height","data-id","xlink:href","data","imageUrl","x","pos","y","viewBox","refX","refY","markerUnits","markerWidth","markerHeight","orient","fill","tooltip","left","top","text","149","46","49","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2_ngraph_events__","__WEBPACK_IMPORTED_MODULE_2_ngraph_events___default","ProgressToken","canceled","progressComplete","events","key","message","update","callback","ctx","fire","50","clap","el","handler","capture","invokeHandler","e","handleTouchEnd","touches","length","Date","touchStartTime","maxSingleTouchTime","touch","changedTouches","dx","pageX","startPos","dy","pageY","singleTapDistanceSquared","handleTouchStart","addEventListener","removeEventListener","51","createDrag","owner","onDrag","dispose","releaseDocumentMouse","releaseTouches","onMouseDown","onTouch","injectWindowOverlay","overlay","document","createElement","classList","add","right","bottom","position","zIndex","body","appendChild","removeOverlay","removeChild","contains","touchInProgress","stopPropagation","button","window","event","mouseX","clientX","mouseY","clientY","onMouseMove","onMouseUp","preventTextSelection","release","handleSignleFingerTouch","startTouchListenerIfNeeded","handleTouchMove","disabled","domObject","prevSelectStart","onselectstart","prevDragStart","ondragstart","dragObject","52","getFromTo","toPos","to","fromPos","from","intersectRect","nodeSize","x1","y1","x2","y2","__WEBPACK_IMPORTED_MODULE_0_gintersect___default","__WEBPACK_IMPORTED_MODULE_0_gintersect__","53","buildYouTubeVideoGraph","searchTerm","onSearchVideoComplete","video","progress","isCanceled","root","isPinned","isRoot","addNodeToGraph","getVideoId","i","__WEBPACK_IMPORTED_MODULE_2__youtubeClient_js__","r","onRelatedToRootFound","complete","relatedResponse","result","items","beginUpdate","similar","addLinkToGraphFiltered","level","endUpdate","loadMissing","itemsToProcess","item","shift","MAX_LEVELS","similarPerRequest","rootId","similarId","hasNode","getNode","similarPerNode","push","hasLink","getNodesCount","nodeId","addNode","extractData","snippet","thumbnails","medium","url","linkId","link","addLink","__WEBPACK_IMPORTED_MODULE_0_ngraph_graph___default","uniqueLinkIds","__WEBPACK_IMPORTED_MODULE_1__ProgressToken_js__","__WEBPACK_IMPORTED_MODULE_0_ngraph_graph__","54","get","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","resolveBound","responseText","oReq","XMLHttpRequest","open","send","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","55","buildParameters","request","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","map","encodeURIComponent","join","makeRequestToOrigin","origin","error","parameters","Error","dataUrl","indexOf","__WEBPACK_IMPORTED_MODULE_2__restClient_js__","then","msg","JSON","parse","catch","err","console","log","makeRequest","searchVideos","query","extra","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","part","q","maxResults","findRelatedVideos","relatedToVideoId","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","56","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","config","productionTip","template","components","App","57","__WEBPACK_IMPORTED_MODULE_0_query_state__","__WEBPACK_IMPORTED_MODULE_0_query_state___default","__WEBPACK_IMPORTED_MODULE_1__components_GraphView_vue__","__WEBPACK_IMPORTED_MODULE_1__components_GraphView_vue___default","__WEBPACK_IMPORTED_MODULE_2__components_VideoPreview_vue__","__WEBPACK_IMPORTED_MODULE_2__components_VideoPreview_vue___default","__WEBPACK_IMPORTED_MODULE_3__lib_graphBuilder_js__","qs","created","onChange","onQueryChange","startSearch","computed","methods","set","_this","cancel","onProgress","GraphView","VideoPreview","58","getNodeIdFromDOM","getAttribute","forAll","scene","action","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default","querySelectorAll","forEach","addClass","className","removeClass","remove","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_1_panzoom__","__WEBPACK_IMPORTED_MODULE_1_panzoom___default","__WEBPACK_IMPORTED_MODULE_2_ngraph_forcelayout__","__WEBPACK_IMPORTED_MODULE_2_ngraph_forcelayout___default","__WEBPACK_IMPORTED_MODULE_3__lib_geom_js__","__WEBPACK_IMPORTED_MODULE_4__lib_clap_js__","props","nodes","edges","visible","watch","newGraph","oldGraph","disposeGraph","initializeGraph","mounted","$refs","zoomHandle","bounds","rect","$el","getBoundingClientRect","moveTo","initEvents","handleMouseEnter","clearHighligh","showTooltip","handleMouseClick","$emit","handleMouseLeave","_getFromTo","Math","round","onGraphChanged","changes","iterations","change","changeType","frame","graphNode","layout","getNodePosition","graphLink","getLinkPosition","off","layoutLoop","cancelAnimationFrame","bind","clapDispose","_this2","springLength","springCoeff","dragCoeff","gravity","theta","forEachNode","forEachLink","boundFrame","step","lastMove","requestAnimationFrame","destroyed","59","__WEBPACK_IMPORTED_MODULE_0__Window_vue__","__WEBPACK_IMPORTED_MODULE_0__Window_vue___default","play","Window","newVideoId","player","destroy","YT","Player","onReady","getVideoData","playVideo","60","createMovers","cX","cY","cWidth","cHeight","initDefaultPos","getComputedStyle","parsePx","parentElement","clientWidth","str","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int__","__WEBPACK_IMPORTED_MODULE_1__lib_drag_js__","moved","drags","mover","undefined","drag"],"mappings":"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","file":"static/js/app.516cc121e90028e2900c.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 112:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(114)\n\nvar Component = __webpack_require__(16)(\n  /* script */\n  __webpack_require__(58),\n  /* template */\n  __webpack_require__(148),\n  /* scopeId */\n  \"data-v-737c6c54\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(115)\n\nvar Component = __webpack_require__(16)(\n  /* script */\n  __webpack_require__(59),\n  /* template */\n  __webpack_require__(149),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(112)\n\nvar Component = __webpack_require__(16)(\n  /* script */\n  __webpack_require__(60),\n  /* template */\n  __webpack_require__(146),\n  /* scopeId */\n  \"data-v-0b9b0cff\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"window\",\n    style: (_vm.getStyle())\n  }, [_c('div', {\n    ref: \"header\",\n    staticClass: \"header\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('a', {\n    staticClass: \"close-video no-drag\",\n    attrs: {\n      \"title\": \"Close\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.requestClose($event)\n      }\n    }\n  }, [_vm._v(\"close\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_vm._t(\"default\")], 2), _vm._v(\" \"), _c('div', {\n    ref: \"left\",\n    staticClass: \"left resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"right\",\n    staticClass: \"right resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"top\",\n    staticClass: \"top resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"bottom\",\n    staticClass: \"bottom resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"leftTop\",\n    staticClass: \"left-top resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"rightTop\",\n    staticClass: \"right-top resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"leftBottom\",\n    staticClass: \"left-bottom resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"rightBottom\",\n    staticClass: \"right-bottom resize\"\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('graph-view', {\n    staticClass: \"visualization\",\n    attrs: {\n      \"graph\": _vm.currentGraph\n    },\n    on: {\n      \"selected\": _vm.onVideoSelected\n    }\n  }), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"id\": \"searchForm\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.searchFormSubmitHandler($event)\n      }\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.searchString),\n      expression: \"searchString\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"searchString\",\n      \"placeholder\": \"Enter YouTube search query\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.searchString)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.searchString = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"type\": \"submit\",\n      \"id\": \"startSearch\",\n      \"title\": \"Start visualization\",\n      \"value\": \"Show Graph\"\n    }\n  })]), _vm._v(\" \"), (_vm.logMessage) ? _c('div', {\n    staticClass: \"log-message\"\n  }, [_vm._v(_vm._s(_vm.logMessage))]) : _vm._e(), _vm._v(\" \"), _c('video-preview', {\n    attrs: {\n      \"videoId\": _vm.selectedVideo\n    },\n    on: {\n      \"close\": _vm.closeVideo\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer\"\n  }, [_c('a', {\n    staticClass: \"about-link\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.showAbout = true\n      }\n    }\n  }, [_vm._v(\"About\")])]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), (_vm.showAbout) ? _c('div', {\n    attrs: {\n      \"id\": \"about\"\n    }\n  }, [_c('h2', [_vm._v(\"About Yasiv\")]), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _c('a', {\n    staticClass: \"close-about\",\n    attrs: {\n      \"href\": \"#\",\n      \"title\": \"Close this message\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.showAbout = false\n      }\n    }\n  }, [_vm._v(\"Close\")])]) : _vm._e()], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"copyText\"\n    }\n  }, [_vm._v(\"Made with \"), _c('span', {\n    staticClass: \"heart\"\n  }, [_vm._v(\"♥\")]), _vm._v(\" by Andrei Kashcha\")])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"text-align\": \"left\"\n    }\n  }, [_c('p', [_vm._v(\"This web site shows related videos from the YouTube.\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Enter a search term in the box above, and press the \\\"Show Graph\\\" button.\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Each icon is a YouTube video. Each connection means that videos are related (according to YouTube).\")]), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": \"https://twitter.com/anvaka\"\n    }\n  }, [_vm._v(\"Andrei Kashcha\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://github.com/anvaka/yasiv-youtube\"\n    }\n  }, [_vm._v(\"GitHub\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://twitter.com/#!/yasivcom\"\n    }\n  }, [_vm._v(\"Twitter\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"http://www.facebook.com/pages/Yasiv/234739739945193\"\n    }\n  }, [_vm._v(\"Facebook\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"mailto:anvaka@yasiv.com\"\n    }\n  }, [_vm._v(\"Email\")])])])\n}]}\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('svg', [_c('g', {\n    ref: \"scene\"\n  }, [_c('g', _vm._l((_vm.edges), function(edge) {\n    return _c('path', {\n      attrs: {\n        \"stroke\": \"#999\",\n        \"data-from\": edge.fromId,\n        \"data-to\": edge.toId,\n        \"d\": _vm.computeLinkPath(edge),\n        \"marker-end\": \"url(#Triangle)\"\n      }\n    })\n  })), _vm._v(\" \"), _c('g', _vm._l((_vm.nodes), function(node) {\n    return _c('image', {\n      staticClass: \"video-thumbnail\",\n      attrs: {\n        \"width\": \"60\",\n        \"height\": \"45\",\n        \"data-id\": node.id,\n        \"xlink:href\": node.data.imageUrl,\n        \"x\": node.pos.x - 30,\n        \"y\": node.pos.y - 22.5\n      }\n    })\n  }))]), _vm._v(\" \"), _c('defs', [_c('marker', {\n    attrs: {\n      \"id\": \"Triangle\",\n      \"viewBox\": \"0 0 10 10\",\n      \"refX\": \"5\",\n      \"refY\": \"5\",\n      \"markerUnits\": \"strokeWidth\",\n      \"markerWidth\": \"10\",\n      \"markerHeight\": \"5\",\n      \"orient\": \"auto\"\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M 0 0 L 10 5 L 0 10 z\",\n      \"fill\": \"#999\"\n    }\n  })])])]), _vm._v(\" \"), (_vm.tooltip.visible) ? _c('div', {\n    staticClass: \"tooltip\",\n    style: ({\n      left: _vm.tooltip.x + \"px\",\n      top: _vm.tooltip.y + \"px\"\n    })\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.tooltip.text) + \"\\n  \")]) : _vm._e()])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('window', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.videoId),\n      expression: \"videoId\"\n    }],\n    attrs: {\n      \"title\": _vm.title\n    },\n    on: {\n      \"close\": _vm.closeVideo\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"player\"\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(113)\n\nvar Component = __webpack_require__(16)(\n  /* script */\n  __webpack_require__(57),\n  /* template */\n  __webpack_require__(147),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(67);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ngraph_events__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ngraph_events___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ngraph_events__);\n\n\n\n\nvar ProgressToken = function () {\n  function ProgressToken() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, ProgressToken);\n\n    this.canceled = false;\n    this.progressComplete = false;\n    this.events = __WEBPACK_IMPORTED_MODULE_2_ngraph_events___default()({});\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(ProgressToken, [{\n    key: 'cancel',\n    value: function cancel() {\n      this.canceled = true;\n    }\n  }, {\n    key: 'complete',\n    value: function complete(message) {\n      this.progressComplete = true;\n      this.update(message);\n    }\n  }, {\n    key: 'onProgress',\n    value: function onProgress(callback, ctx) {\n      this.events.on('progress', callback, ctx);\n    }\n  }, {\n    key: 'update',\n    value: function update(message) {\n      this.events.fire('progress', message);\n    }\n  }, {\n    key: 'isCanceled',\n    value: function isCanceled() {\n      return this.canceled;\n    }\n  }, {\n    key: 'isCompleted',\n    value: function isCompleted() {\n      return this.progressComplete;\n    }\n  }]);\n\n  return ProgressToken;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProgressToken);\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = clap;\nvar maxSingleTouchTime = 300;\nvar singleTapDistanceSquared = 25;\n\nfunction clap(el, handler, capture) {\n  var touchStartTime = void 0;\n  var startPos = void 0;\n\n  el.addEventListener('click', invokeHandler, capture);\n\n  el.addEventListener('touchend', handleTouchEnd, capture);\n  el.addEventListener('touchstart', handleTouchStart, capture);\n\n  return dispose();\n\n  function invokeHandler(e) {\n    return handler(e);\n  }\n\n  function dispose() {\n    el.removeEventListener('click', invokeHandler);\n    el.removeEventListener('touchend', handleTouchEnd);\n    el.removeEventListener('touchstart', handleTouchStart);\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 1) return;\n\n    var dt = new Date() - touchStartTime;\n\n    if (dt > maxSingleTouchTime) return;\n\n    var touch = e.changedTouches[0];\n    var dx = touch.pageX - startPos.x;\n    var dy = touch.pageY - startPos.y;\n\n    if (dx * dx + dy * dy < singleTapDistanceSquared) {\n      invokeHandler(e);\n    }\n  }\n\n  function handleTouchStart(e) {\n    var touches = e.touches;\n\n\n    if (touches.length === 1) {\n      touchStartTime = new Date();\n      startPos = {\n        x: e.touches[0].pageX,\n        y: e.touches[0].pageY\n      };\n    }\n  }\n}\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = createDrag;\nvar preventTextSelection = createTextSelectionInterceptor();\n\nfunction createDrag(owner, onDrag) {\n  var overlay = void 0;\n  var mouseX = void 0;\n  var mouseY = void 0;\n  var touchInProgress = false;\n\n  listenForEvents();\n\n  return {\n    dispose: dispose\n  };\n\n  function dispose() {\n    releaseDocumentMouse();\n    releaseTouches();\n\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('touchstart', onTouch);\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown);\n    owner.addEventListener('touchstart', onTouch);\n  }\n\n  function injectWindowOverlay() {\n    if (!overlay) {\n      overlay = document.createElement('div');\n      overlay.classList.add('drag-overlay');\n      overlay.style.left = '0';\n      overlay.style.top = '0';\n      overlay.style.right = '0';\n      overlay.style.bottom = '0';\n      overlay.style.position = 'fixed';\n      overlay.style.position = 'fixed';\n      overlay.style.zIndex = '42';\n    }\n    document.body.appendChild(overlay);\n  }\n\n  function removeOverlay() {\n    if (overlay) {\n      document.body.removeChild(overlay);\n    }\n  }\n\n  function onMouseDown(e) {\n    if (e.target.classList.contains('no-drag')) return;\n    if (touchInProgress) {\n      e.stopPropagation();\n      return false;\n    }\n    injectWindowOverlay();\n\n    var isLeftButton = e.button === 1 && window.event !== null || e.button === 0;\n    if (!isLeftButton) return;\n\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n\n    return false;\n  }\n\n  function onMouseMove(e) {\n    if (touchInProgress) return;\n\n    triggerPanStart();\n\n    var dx = e.clientX - mouseX;\n    var dy = e.clientY - mouseY;\n\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n\n    onDrag(dx, dy);\n  }\n\n  function onMouseUp() {\n    preventTextSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    removeOverlay();\n  }\n\n  function onTouch(e) {\n    if (e.touches.length === 1) {\n      return handleSignleFingerTouch(e, e.touches[0]);\n    }\n  }\n\n  function handleSignleFingerTouch(e) {\n    if (e.target.classList.contains('no-drag')) return;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    var touch = e.touches[0];\n    mouseX = touch.clientX;\n    mouseY = touch.clientY;\n\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (!touchInProgress) {\n      touchInProgress = true;\n      document.addEventListener('touchmove', handleTouchMove);\n      document.addEventListener('touchend', handleTouchEnd);\n      document.addEventListener('touchcancel', handleTouchEnd);\n    }\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 0) {\n      mouseX = e.touches[0].clientX;\n      mouseY = e.touches[0].clientY;\n    } else {\n      touchInProgress = false;\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length !== 1) return;\n    e.stopPropagation();\n    var touch = e.touches[0];\n\n    var dx = touch.clientX - mouseX;\n    var dy = touch.clientY - mouseY;\n\n    if (dx !== 0 && dy !== 0) {\n      triggerPanStart();\n    }\n    mouseX = touch.clientX;\n    mouseY = touch.clientY;\n    onDrag(dx, dy);\n  }\n\n  function triggerPanStart() {}\n\n  function triggerPanEnd() {}\n}\n\nfunction createTextSelectionInterceptor() {\n  var dragObject = void 0;\n  var prevSelectStart = void 0;\n  var prevDragStart = void 0;\n\n  return {\n    capture: capture,\n    release: release\n  };\n\n  function capture(domObject) {\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n\n    window.document.onselectstart = disabled;\n\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_gintersect__ = __webpack_require__(116);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_gintersect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_gintersect__);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getFromTo;\n\n\nvar nodeSize = {\n  width: 60,\n  height: 45\n};\n\nfunction getFromTo(edge) {\n  var toPos = edge.pos.to;\n  var fromPos = edge.pos.from;\n\n  var from = intersectRect(fromPos.x - nodeSize.width / 2, fromPos.y - nodeSize.height / 2, fromPos.x + nodeSize.width / 2, fromPos.y + nodeSize.height / 2, fromPos.x, fromPos.y, toPos.x, toPos.y) || fromPos;\n\n  var to = intersectRect(toPos.x - nodeSize.width / 2, toPos.y - nodeSize.height / 2, toPos.x + nodeSize.width / 2, toPos.y + nodeSize.height / 2, toPos.x, toPos.y, fromPos.x, fromPos.y) || toPos;\n\n  return { from: from, to: to };\n}\n\nfunction intersectRect(left, top, right, bottom, x1, y1, x2, y2) {\n  return __WEBPACK_IMPORTED_MODULE_0_gintersect___default()(left, top, left, bottom, x1, y1, x2, y2) || __WEBPACK_IMPORTED_MODULE_0_gintersect___default()(left, bottom, right, bottom, x1, y1, x2, y2) || __WEBPACK_IMPORTED_MODULE_0_gintersect___default()(right, bottom, right, top, x1, y1, x2, y2) || __WEBPACK_IMPORTED_MODULE_0_gintersect___default()(right, top, left, top, x1, y1, x2, y2);\n}\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ngraph_graph__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ngraph_graph___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ngraph_graph__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ProgressToken_js__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__youtubeClient_js__ = __webpack_require__(55);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = buildYouTubeVideoGraph;\n\n\n\n\n\nvar MAX_LEVELS = 1;\nvar similarPerNode = 10;\nvar similarPerRequest = 15;\n\nfunction buildYouTubeVideoGraph(searchTerm) {\n  var root = void 0;\n  var graph = __WEBPACK_IMPORTED_MODULE_0_ngraph_graph___default()({ uniqueLinkIds: false });\n  var progress = new __WEBPACK_IMPORTED_MODULE_1__ProgressToken_js__[\"a\" /* default */]();\n\n  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__youtubeClient_js__[\"a\" /* searchVideos */])(searchTerm, function (result) {\n    onSearchVideoComplete(result.items && result.items[0], progress);\n  }, function () {\n    progress.complete('No video found for your request');\n  });\n\n  return {\n    progress: progress,\n    graph: graph\n  };\n\n  function onSearchVideoComplete(video, progress) {\n    if (progress.isCanceled()) {\n      return;\n    }\n\n    if (video) {\n      progress.update('Searching related videos...');\n\n      root = video;\n      root.isPinned = true;\n      root.isRoot = true;\n      addNodeToGraph(getVideoId(root), root);\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__youtubeClient_js__[\"b\" /* findRelatedVideos */])(root, 10, function (r) {\n        onRelatedToRootFound(r, progress);\n      }, function () {\n        progress.complete('Could not find related videos');\n      });\n    } else {\n      progress.complete('No videos found for your request');\n    }\n  }\n\n  function onRelatedToRootFound(relatedResponse, progress) {\n    if (progress.isCanceled()) {\n      return;\n    }\n\n    var result = relatedResponse.items;\n\n    if (!result || result.length === 0) {\n      progress.complete();\n    }\n\n    graph.beginUpdate();\n\n    for (var i = 0; i < result.length; ++i) {\n      var similar = result[i];\n      addNodeToGraph(getVideoId(similar), similar);\n      addLinkToGraphFiltered(getVideoId(similar), getVideoId(root));\n      similar.level = 0;\n    }\n\n    graph.endUpdate();\n\n    progress.update('Found ' + result.length + ' related videos. Searching more...');\n\n    loadMissing(result, progress);\n  }\n\n  function loadMissing(itemsToProcess, progress) {\n    if (progress.isCanceled()) {\n      return;\n    }\n\n    if (itemsToProcess.length === 0) {\n      progress.complete();\n    }\n\n    var item = itemsToProcess.shift();\n    if (item.level >= MAX_LEVELS) {\n      progress.complete();\n      return;\n    }\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__youtubeClient_js__[\"b\" /* findRelatedVideos */])(item, similarPerRequest, function (r) {\n      if (progress.isCanceled()) {\n        return;\n      }\n\n      var result = r.items;\n      var rootId = getVideoId(item);\n\n      graph.beginUpdate();\n\n      for (var i = 0; i < result.length; ++i) {\n        var similar = result[i];\n        var similarId = getVideoId(similar);\n        var hasNode = graph.getNode(similarId);\n\n        if (!hasNode && i < similarPerNode) {\n          addNodeToGraph(similarId, similar);\n          similar.level = item.level + 1;\n          itemsToProcess.push(similar);\n          hasNode = similar;\n        }\n\n        if (!graph.hasLink(similarId, rootId) && hasNode) {\n          addLinkToGraphFiltered(similarId, rootId);\n        }\n      }\n\n      graph.endUpdate();\n      progress.update('Found ' + graph.getNodesCount() + ' videos. Searching more...');\n      loadMissing(itemsToProcess, progress);\n    }, function () {\n      progress.update('Could not find related videos for one video. Skipping this one and searching for more...');\n      loadMissing(itemsToProcess, progress);\n    });\n  }\n\n  function addNodeToGraph(nodeId, data) {\n    graph.addNode(nodeId, extractData(data));\n  }\n\n  function extractData(data) {\n    return {\n      isPinned: data.isPinned,\n      imageUrl: data.snippet.thumbnails.medium.url,\n      title: data.snippet.title\n    };\n  }\n\n  function addLinkToGraphFiltered(linkId, rootId) {\n    var link = graph.getNode(linkId);\n    var root = graph.getNode(rootId);\n\n    if (!link || !root) return;\n\n    graph.addLink(linkId, rootId);\n  }\n}\n\nfunction getVideoId(video) {\n  return video.id.videoId;\n}\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = get;\n\n\nfunction get(url) {\n  return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n    var oReq = new XMLHttpRequest();\n    oReq.addEventListener('load', resolveBound);\n    oReq.addEventListener('error', reject);\n    oReq.open('GET', url);\n    oReq.send();\n\n    function resolveBound() {\n      resolve(this.responseText);\n    }\n  });\n}\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(65);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__restClient_js__ = __webpack_require__(54);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = searchVideos;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = findRelatedVideos;\n\n\n\n\nvar key = 'AIzaSyAb3ea-42-gpQf0-p9XdHbY30jI4ntqPNI';\nvar origin = 'https://www.googleapis.com/youtube/v3/';\n\nfunction buildParameters(request) {\n  request.key = key;\n  request.type = 'video';\n\n  return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(request).map(function (key) {\n    return encodeURIComponent(key) + '=' + encodeURIComponent(request[key]);\n  }).join('&');\n}\n\nfunction makeRequestToOrigin(origin, request, callback, error) {\n  var parameters = buildParameters(request);\n\n  if (parameters.length === 0) {\n    throw new Error('Invalid request arguments');\n  }\n\n  var dataUrl = origin + (origin.indexOf('?') === -1 ? '?' : '&') + parameters;\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__restClient_js__[\"a\" /* default */])(dataUrl).then(function (msg) {\n    callback(JSON.parse(msg));\n  }).catch(function (err) {\n    console.log('Caught error', err);\n    error(err);\n  });\n}\n\nfunction makeRequest(request, callback, error) {\n  return makeRequestToOrigin(origin + 'search', request, callback, error);\n}\n\nfunction searchVideos(query, callback, error, extra) {\n  var args = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({\n    part: 'snippet',\n    q: query,\n    maxResults: 10\n  }, extra);\n\n  return makeRequest(args, callback, error);\n}\n\nfunction findRelatedVideos(video, maxResults, callback, error) {\n  return makeRequest({\n    part: 'snippet',\n    maxResults: typeof maxResults === 'number' ? maxResults : 10,\n    relatedToVideoId: video.id.videoId\n  }, callback, error);\n}\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_query_state__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_query_state___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_query_state__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GraphView_vue__ = __webpack_require__(143);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GraphView_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_GraphView_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_VideoPreview_vue__ = __webpack_require__(144);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_VideoPreview_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_VideoPreview_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_graphBuilder_js__ = __webpack_require__(53);\n\n\n\n\n\n\n\n\nvar qs = __WEBPACK_IMPORTED_MODULE_0_query_state___default()();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    var searchString = qs.get('q') || '';\n\n    return {\n      request: null,\n      logMessage: 'Hello',\n      searchString: searchString,\n      showAbout: searchString.length === 0,\n      selectedVideo: null\n    };\n  },\n  created: function created() {\n    qs.onChange(this.onQueryChange, this);\n    this.startSearch();\n  },\n\n\n  computed: {\n    currentGraph: function currentGraph() {\n      if (this.request) {\n        return this.request.graph;\n      }\n    }\n  },\n\n  methods: {\n    closeVideo: function closeVideo() {\n      this.selectedVideo = null;\n    },\n    searchFormSubmitHandler: function searchFormSubmitHandler() {\n      qs.set({ q: this.searchString });\n      this.startSearch();\n    },\n    onVideoSelected: function onVideoSelected(videoId) {\n      this.selectedVideo = videoId;\n    },\n    onQueryChange: function onQueryChange() {\n      this.searchString = qs.get('q');\n      this.startSearch();\n    },\n    startSearch: function startSearch() {\n      var _this = this;\n\n      var q = qs.get('q');\n      if (!q) return;\n\n      if (this.request) {\n        this.request.progress.cancel();\n      }\n      this.showAbout = false;\n\n      this.request = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_graphBuilder_js__[\"a\" /* buildYouTubeVideoGraph */])(q);\n      this.request.progress.onProgress(function (msg) {\n        _this.logMessage = msg;\n      });\n    }\n  },\n\n  components: {\n    GraphView: __WEBPACK_IMPORTED_MODULE_1__components_GraphView_vue___default.a,\n    VideoPreview: __WEBPACK_IMPORTED_MODULE_2__components_VideoPreview_vue___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_panzoom__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_panzoom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_panzoom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ngraph_forcelayout__ = __webpack_require__(117);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ngraph_forcelayout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ngraph_forcelayout__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_geom_js__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_clap_js__ = __webpack_require__(50);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'GraphView',\n  props: ['graph'],\n  data: function data() {\n    return {\n      nodes: [],\n      edges: [],\n      tooltip: {\n        visible: false,\n        text: '',\n        x: 0,\n        y: 0\n      }\n    };\n  },\n\n  watch: {\n    graph: function graph(newGraph, oldGraph) {\n      if (oldGraph) {\n        this.disposeGraph();\n      }\n\n      this.initializeGraph(newGraph);\n    }\n  },\n\n  mounted: function mounted() {\n    var scene = this.$refs.scene;\n\n    this.zoomHandle = __WEBPACK_IMPORTED_MODULE_1_panzoom___default()(scene, { bounds: true });\n    var rect = this.$el.getBoundingClientRect();\n    this.zoomHandle.moveTo(rect.width / 2, rect.height / 2);\n    this.initEvents(scene);\n    this.initializeGraph(this.graph);\n  },\n\n\n  methods: {\n    handleMouseEnter: function handleMouseEnter(e) {\n      var nodeId = getNodeIdFromDOM(e.target);\n      if (!nodeId) return;\n\n      this.clearHighligh();\n\n      forAll(this.$refs.scene, 'path[data-from=\"' + nodeId + '\"], path[data-to=\"' + nodeId + '\"]', addClass('hl'));\n\n      var title = this.graph.getNode(nodeId).data.title;\n\n      this.showTooltip(e.target, title);\n    },\n    handleMouseClick: function handleMouseClick(e) {\n      var nodeId = getNodeIdFromDOM(e.target);\n      if (nodeId) this.$emit('selected', nodeId);\n    },\n    showTooltip: function showTooltip(el, text) {\n      var rect = el.getBoundingClientRect();\n      var tooltip = this.tooltip;\n\n      tooltip.text = text;\n      tooltip.x = rect.left + rect.width / 2;\n      tooltip.y = rect.top - 42 / 2;\n      tooltip.visible = true;\n    },\n    handleMouseLeave: function handleMouseLeave() {\n      this.clearHighligh();\n      this.tooltip.visible = false;\n    },\n    clearHighligh: function clearHighligh() {\n      forAll(this.$refs.scene, '.hl', removeClass('hl'));\n    },\n    computeLinkPath: function computeLinkPath(edge) {\n      var _getFromTo = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_geom_js__[\"a\" /* getFromTo */])(edge),\n          from = _getFromTo.from,\n          to = _getFromTo.to;\n\n      var data = 'M';\n\n      data += Math.round(from.x) + ',' + Math.round(from.y);\n      data += 'L' + Math.round(to.x) + ',' + Math.round(to.y);\n\n      return data;\n    },\n    onGraphChanged: function onGraphChanged(changes) {\n      var _this = this;\n\n      this.iterations = 0;\n      changes.forEach(function (change) {\n        if (change.changeType === 'add') {\n          if (change.node) _this.addNode(change.node);\n          if (change.link) _this.addLink(change.link);\n        } else {\n          throw new Error('Not implemented');\n        }\n      });\n\n      this.frame();\n    },\n    addNode: function addNode(graphNode) {\n      var id = graphNode.id,\n          data = graphNode.data;\n\n      var pos = this.layout.getNodePosition(id);\n\n      this.nodes.push({ pos: pos, id: id, data: data });\n    },\n    addLink: function addLink(graphLink) {\n      var id = graphLink.id,\n          fromId = graphLink.fromId,\n          toId = graphLink.toId;\n\n      var pos = this.layout.getLinkPosition(id);\n\n      this.edges.push({ pos: pos, fromId: fromId, toId: toId });\n    },\n    disposeGraph: function disposeGraph() {\n      if (this.graph) {\n        this.graph.off('changed', this.onGraphChanged, this);\n        this.nodes = [];\n        this.edges = [];\n        this.graph = null;\n      }\n      if (this.layout) {\n        this.layout.dispose();\n        this.layout = null;\n      }\n      if (this.layoutLoop) {\n        cancelAnimationFrame(this.layoutLoop);\n        this.layoutLoop = null;\n      }\n    },\n    initEvents: function initEvents(scene) {\n      scene.addEventListener('mouseenter', this.handleMouseEnter.bind(this), true);\n      scene.addEventListener('mouseleave', this.handleMouseLeave.bind(this), true);\n      this.clapDispose = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__lib_clap_js__[\"a\" /* default */])(scene, this.handleMouseClick.bind(this), true);\n    },\n    initializeGraph: function initializeGraph(newGraph) {\n      var _this2 = this;\n\n      if (!newGraph) return;\n\n      this.layout = __WEBPACK_IMPORTED_MODULE_2_ngraph_forcelayout___default()(newGraph, {\n        springLength: 80,\n        springCoeff: 0.0004,\n        dragCoeff: 0.05,\n        gravity: -50,\n        theta: 0.5\n      });\n      this.nodes = [];\n      this.edges = [];\n      var graph = newGraph;\n\n      graph.forEachNode(function (node) {\n        _this2.addNode(node);\n      });\n\n      graph.forEachLink(function (link) {\n        _this2.addLink(link);\n      });\n\n      this.graph.on('changed', this.onGraphChanged, this);\n      this.boundFrame = this.frame.bind(this);\n      this.frame();\n    },\n    frame: function frame() {\n      if (!this.layout) return;\n\n      this.layout.step();\n\n      this.iterations += 1;\n      if (this.layout.lastMove > 20 || this.iterations < 100) {\n        this.layoutLoop = requestAnimationFrame(this.boundFrame);\n      }\n    }\n  },\n\n  destroyed: function destroyed() {\n    if (this.zoomHandle) {\n      this.zoomHandle.dispose();\n    }\n    this.disposeGraph();\n    if (this.clapDispose) {\n      this.clapDispose();\n    }\n  }\n});\n\nfunction getNodeIdFromDOM(el) {\n  var isNode = el && el.classList.contains('video-thumbnail');\n  if (!isNode) return;\n\n  return el.getAttribute('data-id');\n}\n\nfunction forAll(scene, query, action) {\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default()(scene.querySelectorAll(query)).forEach(action);\n}\n\nfunction addClass(className) {\n  return function (el) {\n    return el.classList.add(className);\n  };\n}\n\nfunction removeClass(className) {\n  return function (el) {\n    return el.classList.remove(className);\n  };\n}\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Window_vue__ = __webpack_require__(145);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Window_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__Window_vue__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'VideoPreview',\n  props: ['videoId'],\n  mounted: function mounted() {\n    if (this.videoId) this.play(this.videoId);\n  },\n  data: function data() {\n    return {\n      title: 'Video Preview'\n    };\n  },\n\n\n  components: {\n    Window: __WEBPACK_IMPORTED_MODULE_0__Window_vue___default.a\n  },\n\n  watch: {\n    videoId: function videoId(newVideoId) {\n      this.play(newVideoId);\n    }\n  },\n\n  methods: {\n    closeVideo: function closeVideo() {\n      this.$emit('close');\n    },\n    play: function play(videoId) {\n      var _this = this;\n\n      if (this.player) {\n        this.player.destroy();\n        this.player = null;\n      }\n\n      if (!videoId) {\n        return;\n      }\n\n      this.player = new YT.Player('player', {\n        height: '100%',\n        width: '100%',\n        videoId: videoId,\n        events: {\n          onReady: function onReady() {\n            var data = _this.player.getVideoData();\n            _this.title = data.title;\n            _this.player.playVideo();\n          }\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_drag_js__ = __webpack_require__(51);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'Window',\n  props: ['title', 'width', 'height', 'x', 'y'],\n  data: function data() {\n    return {\n      moved: false,\n      cWidth: this.width || 420,\n      cHeight: this.height || 290,\n      cX: this.x || 0,\n      cY: this.y || 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    initDefaultPos(this.$el, this);\n\n    var drags = createMovers().map(function (mover) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__lib_drag_js__[\"a\" /* default */])(_this.$refs[mover.name], function (dx, dy) {\n        var pos = mover.update(_this, dx, dy);\n        if (pos.cX !== undefined) {\n          _this.cX = pos.cX;\n        }\n        if (pos.cY !== undefined) {\n          if (pos.cY >= 0) _this.cY = pos.cY;\n        }\n\n        if (pos.cWidth !== undefined) {\n          _this.cWidth = pos.cWidth;\n        }\n        if (pos.cHeight !== undefined) {\n          if (pos.cHeight >= 1) _this.cHeight = pos.cHeight;\n        }\n        _this.moved = true;\n      });\n    });\n\n    this.drags = drags;\n  },\n  destroyed: function destroyed() {\n    if (this.drags) {\n      this.drags.forEach(function (drag) {\n        return drag.dispose();\n      });\n    }\n  },\n\n\n  methods: {\n    getStyle: function getStyle() {\n      if (this.moved) {\n        return {\n          left: this.cX + 'px',\n          top: this.cY + 'px',\n          width: this.cWidth + 'px',\n          height: this.cHeight + 'px'\n        };\n      }\n    },\n    requestClose: function requestClose() {\n      this.$emit('close', this);\n    }\n  }\n});\n\nfunction createMovers() {\n  return [{\n    name: 'header',\n    update: function update(pos, dx, dy) {\n      return {\n        cX: pos.cX + dx,\n        cY: pos.cY + dy\n      };\n    }\n  }, {\n    name: 'right',\n    update: function update(pos, dx) {\n      return {\n        cWidth: pos.cWidth + dx\n      };\n    }\n  }, {\n    name: 'left',\n    update: function update(pos, dx) {\n      return {\n        cX: pos.cX + dx,\n        cWidth: pos.cWidth - dx\n      };\n    }\n  }, {\n    name: 'top',\n    update: function update(pos, dx, dy) {\n      return {\n        cY: pos.cY + dy,\n        cHeight: pos.cHeight - dy\n      };\n    }\n  }, {\n    name: 'bottom',\n    update: function update(pos, dx, dy) {\n      return {\n        cHeight: pos.cHeight + dy\n      };\n    }\n  }, {\n    name: 'leftBottom',\n    update: function update(pos, dx, dy) {\n      return {\n        cX: pos.cX + dx,\n        cWidth: pos.cWidth - dx,\n        cHeight: pos.cHeight + dy\n      };\n    }\n  }, {\n    name: 'rightBottom',\n    update: function update(pos, dx, dy) {\n      return {\n        cHeight: pos.cHeight + dy,\n        cWidth: pos.cWidth + dx\n      };\n    }\n  }, {\n    name: 'leftTop',\n    update: function update(pos, dx, dy) {\n      return {\n        cY: pos.cY + dy,\n        cX: pos.cX + dx,\n        cHeight: pos.cHeight - dy,\n        cWidth: pos.cWidth - dx\n      };\n    }\n  }, {\n    name: 'rightTop',\n    update: function update(pos, dx, dy) {\n      return {\n        cY: pos.cY + dy,\n        cHeight: pos.cHeight - dy,\n        cWidth: pos.cWidth + dx\n      };\n    }\n  }];\n}\n\nfunction initDefaultPos(el, pos) {\n  var style = window.getComputedStyle(el);\n  pos.cX = parsePx(style.left);\n  pos.cY = parsePx(style.top);\n  pos.cHeight = parsePx(style.height);\n  if (style.width === '100%') {\n    pos.cWidth = el.parentElement.clientWidth;\n  } else {\n    pos.cWidth = parsePx(style.width);\n  }\n}\n\nfunction parsePx(str) {\n  if (!str) return 0;\n\n  return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int___default()(str, 10);\n}\n\n/***/ })\n\n},[56]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.516cc121e90028e2900c.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-737c6c54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GraphView.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GraphView.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-737c6c54\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GraphView.vue\"),\n  /* scopeId */\n  \"data-v-737c6c54\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GraphView.vue\n// module id = 143\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-a75607c8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VideoPreview.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VideoPreview.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a75607c8\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VideoPreview.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VideoPreview.vue\n// module id = 144\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0b9b0cff\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Window.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Window.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b9b0cff\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Window.vue\"),\n  /* scopeId */\n  \"data-v-0b9b0cff\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Window.vue\n// module id = 145\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"window\",\n    style: (_vm.getStyle())\n  }, [_c('div', {\n    ref: \"header\",\n    staticClass: \"header\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('a', {\n    staticClass: \"close-video no-drag\",\n    attrs: {\n      \"title\": \"Close\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.requestClose($event)\n      }\n    }\n  }, [_vm._v(\"close\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_vm._t(\"default\")], 2), _vm._v(\" \"), _c('div', {\n    ref: \"left\",\n    staticClass: \"left resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"right\",\n    staticClass: \"right resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"top\",\n    staticClass: \"top resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"bottom\",\n    staticClass: \"bottom resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"leftTop\",\n    staticClass: \"left-top resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"rightTop\",\n    staticClass: \"right-top resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"leftBottom\",\n    staticClass: \"left-bottom resize\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"rightBottom\",\n    staticClass: \"right-bottom resize\"\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b9b0cff\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Window.vue\n// module id = 146\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('graph-view', {\n    staticClass: \"visualization\",\n    attrs: {\n      \"graph\": _vm.currentGraph\n    },\n    on: {\n      \"selected\": _vm.onVideoSelected\n    }\n  }), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"id\": \"searchForm\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.searchFormSubmitHandler($event)\n      }\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.searchString),\n      expression: \"searchString\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"searchString\",\n      \"placeholder\": \"Enter YouTube search query\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.searchString)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.searchString = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"type\": \"submit\",\n      \"id\": \"startSearch\",\n      \"title\": \"Start visualization\",\n      \"value\": \"Show Graph\"\n    }\n  })]), _vm._v(\" \"), (_vm.logMessage) ? _c('div', {\n    staticClass: \"log-message\"\n  }, [_vm._v(_vm._s(_vm.logMessage))]) : _vm._e(), _vm._v(\" \"), _c('video-preview', {\n    attrs: {\n      \"videoId\": _vm.selectedVideo\n    },\n    on: {\n      \"close\": _vm.closeVideo\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer\"\n  }, [_c('a', {\n    staticClass: \"about-link\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.showAbout = true\n      }\n    }\n  }, [_vm._v(\"About\")])]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), (_vm.showAbout) ? _c('div', {\n    attrs: {\n      \"id\": \"about\"\n    }\n  }, [_c('h2', [_vm._v(\"About Yasiv\")]), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _c('a', {\n    staticClass: \"close-about\",\n    attrs: {\n      \"href\": \"#\",\n      \"title\": \"Close this message\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.showAbout = false\n      }\n    }\n  }, [_vm._v(\"Close\")])]) : _vm._e()], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"copyText\"\n    }\n  }, [_vm._v(\"Made with \"), _c('span', {\n    staticClass: \"heart\"\n  }, [_vm._v(\"♥\")]), _vm._v(\" by Andrei Kashcha\")])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"text-align\": \"left\"\n    }\n  }, [_c('p', [_vm._v(\"This web site shows related videos from the YouTube.\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Enter a search term in the box above, and press the \\\"Show Graph\\\" button.\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Each icon is a YouTube video. Each connection means that videos are related (according to YouTube).\")]), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": \"https://twitter.com/anvaka\"\n    }\n  }, [_vm._v(\"Andrei Kashcha\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://github.com/anvaka/yasiv-youtube\"\n    }\n  }, [_vm._v(\"GitHub\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://twitter.com/#!/yasivcom\"\n    }\n  }, [_vm._v(\"Twitter\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"http://www.facebook.com/pages/Yasiv/234739739945193\"\n    }\n  }, [_vm._v(\"Facebook\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"mailto:anvaka@yasiv.com\"\n    }\n  }, [_vm._v(\"Email\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-28a80657\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 147\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('svg', [_c('g', {\n    ref: \"scene\"\n  }, [_c('g', _vm._l((_vm.edges), function(edge) {\n    return _c('path', {\n      attrs: {\n        \"stroke\": \"#999\",\n        \"data-from\": edge.fromId,\n        \"data-to\": edge.toId,\n        \"d\": _vm.computeLinkPath(edge),\n        \"marker-end\": \"url(#Triangle)\"\n      }\n    })\n  })), _vm._v(\" \"), _c('g', _vm._l((_vm.nodes), function(node) {\n    return _c('image', {\n      staticClass: \"video-thumbnail\",\n      attrs: {\n        \"width\": \"60\",\n        \"height\": \"45\",\n        \"data-id\": node.id,\n        \"xlink:href\": node.data.imageUrl,\n        \"x\": node.pos.x - 30,\n        \"y\": node.pos.y - 22.5\n      }\n    })\n  }))]), _vm._v(\" \"), _c('defs', [_c('marker', {\n    attrs: {\n      \"id\": \"Triangle\",\n      \"viewBox\": \"0 0 10 10\",\n      \"refX\": \"5\",\n      \"refY\": \"5\",\n      \"markerUnits\": \"strokeWidth\",\n      \"markerWidth\": \"10\",\n      \"markerHeight\": \"5\",\n      \"orient\": \"auto\"\n    }\n  }, [_c('path', {\n    attrs: {\n      \"d\": \"M 0 0 L 10 5 L 0 10 z\",\n      \"fill\": \"#999\"\n    }\n  })])])]), _vm._v(\" \"), (_vm.tooltip.visible) ? _c('div', {\n    staticClass: \"tooltip\",\n    style: ({\n      left: _vm.tooltip.x + \"px\",\n      top: _vm.tooltip.y + \"px\"\n    })\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.tooltip.text) + \"\\n  \")]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-737c6c54\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GraphView.vue\n// module id = 148\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('window', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.videoId),\n      expression: \"videoId\"\n    }],\n    attrs: {\n      \"title\": _vm.title\n    },\n    on: {\n      \"close\": _vm.closeVideo\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"player\"\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a75607c8\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/VideoPreview.vue\n// module id = 149\n// module chunks = 1","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-28a80657\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28a80657\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 46\n// module chunks = 1","import eventify from 'ngraph.events';\n\nexport default class ProgressToken {\n  constructor() {\n    this.canceled = false;\n    this.progressComplete = false;\n    this.events = eventify({});\n  }\n\n  cancel() {\n    this.canceled = true;\n  }\n\n  complete(message) {\n    this.progressComplete = true;\n    this.update(message);\n  }\n\n  onProgress(callback, ctx) {\n    this.events.on('progress', callback, ctx);\n  }\n\n  update(message) {\n    this.events.fire('progress', message);\n  }\n\n  isCanceled() {\n    return this.canceled;\n  }\n\n  isCompleted() {\n    return this.progressComplete;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ProgressToken.js","const maxSingleTouchTime = 300; // ms\nconst singleTapDistanceSquared = 25; // within 5px we consider it a tap.\n\nexport default function clap(el, handler, capture) {\n  let touchStartTime;\n  let startPos;\n\n  el.addEventListener('click', invokeHandler, capture);\n\n  el.addEventListener('touchend', handleTouchEnd, capture);\n  el.addEventListener('touchstart', handleTouchStart, capture);\n\n  return dispose();\n\n  function invokeHandler(e) {\n    return handler(e);\n  }\n\n  function dispose() {\n    el.removeEventListener('click', invokeHandler);\n    el.removeEventListener('touchend', handleTouchEnd);\n    el.removeEventListener('touchstart', handleTouchStart);\n  }\n\n  function handleTouchEnd(e) {\n    // multitouch - ignore\n    if (e.touches.length > 1) return;\n\n    // single touch - use time diference to determine if it was a touch or\n    // a swipe\n    const dt = new Date() - touchStartTime;\n\n    // To long - ignore\n    if (dt > maxSingleTouchTime) return;\n\n    const touch = e.changedTouches[0];\n    const dx = touch.pageX - startPos.x;\n    const dy = touch.pageY - startPos.y;\n\n    if (dx * dx + dy * dy < singleTapDistanceSquared) {\n      // if they didn't move the finger...\n      invokeHandler(e);\n    }\n  }\n\n  function handleTouchStart(e) {\n    const { touches } = e;\n\n    if (touches.length === 1) {\n      touchStartTime = new Date();\n      startPos = {\n        x: e.touches[0].pageX,\n        y: e.touches[0].pageY\n      };\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/clap.js","const preventTextSelection = createTextSelectionInterceptor();\n\nexport default function createDrag(owner, onDrag) {\n  let overlay;\n  let mouseX;\n  let mouseY;\n  let touchInProgress = false;\n\n  listenForEvents();\n\n  return {\n    dispose\n  };\n\n  function dispose() {\n    releaseDocumentMouse();\n    releaseTouches();\n\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('touchstart', onTouch);\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown);\n    owner.addEventListener('touchstart', onTouch);\n  }\n\n  function injectWindowOverlay() {\n    // so that mouse events are exclusively sent to us (even if we hover over iframes)\n    if (!overlay) {\n      overlay = document.createElement('div');\n      overlay.classList.add('drag-overlay');\n      overlay.style.left = '0';\n      overlay.style.top = '0';\n      overlay.style.right = '0';\n      overlay.style.bottom = '0';\n      overlay.style.position = 'fixed';\n      overlay.style.position = 'fixed';\n      overlay.style.zIndex = '42'; // not sure if this will help us win z-index war.\n    }\n    document.body.appendChild(overlay);\n  }\n\n  function removeOverlay() {\n    if (overlay) {\n      document.body.removeChild(overlay);\n    }\n  }\n\n  function onMouseDown(e) {\n    if (e.target.classList.contains('no-drag')) return;\n    if (touchInProgress) {\n      // modern browsers will fire mousedown for touch events too\n      // we do not want this: touch is handled separately.\n      e.stopPropagation();\n      return false;\n    }\n    injectWindowOverlay();\n\n    // for IE, left click == 1\n    // for Firefox, left click == 0\n    const isLeftButton = ((e.button === 1 && window.event !== null) || e.button === 0);\n    if (!isLeftButton) return;\n\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n\n    // We need to listen on document itself, since mouse can go outside of the\n    // window, and we will loose it\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n\n    // preventTextSelection.capture(e.target || e.srcElement);\n\n    return false;\n  }\n\n  function onMouseMove(e) {\n    // no need to worry about mouse events when touch is happening\n    if (touchInProgress) return;\n\n    triggerPanStart();\n\n    const dx = e.clientX - mouseX;\n    const dy = e.clientY - mouseY;\n\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n\n    onDrag(dx, dy);\n  }\n\n  function onMouseUp() {\n    preventTextSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    removeOverlay();\n  }\n\n  function onTouch(e) {\n    if (e.touches.length === 1) {\n      return handleSignleFingerTouch(e, e.touches[0]);\n    }\n  }\n\n  function handleSignleFingerTouch(e) {\n    if (e.target.classList.contains('no-drag')) return;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    const touch = e.touches[0];\n    mouseX = touch.clientX;\n    mouseY = touch.clientY;\n\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (!touchInProgress) {\n      touchInProgress = true;\n      document.addEventListener('touchmove', handleTouchMove);\n      document.addEventListener('touchend', handleTouchEnd);\n      document.addEventListener('touchcancel', handleTouchEnd);\n    }\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 0) {\n      mouseX = e.touches[0].clientX;\n      mouseY = e.touches[0].clientY;\n    } else {\n      touchInProgress = false;\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length !== 1) return;\n    e.stopPropagation();\n    const touch = e.touches[0];\n\n    const dx = touch.clientX - mouseX;\n    const dy = touch.clientY - mouseY;\n\n    if (dx !== 0 && dy !== 0) {\n      triggerPanStart();\n    }\n    mouseX = touch.clientX;\n    mouseY = touch.clientY;\n    onDrag(dx, dy);\n  }\n\n  function triggerPanStart() {\n  }\n\n  function triggerPanEnd() {\n  }\n}\n\nfunction createTextSelectionInterceptor() {\n  let dragObject;\n  let prevSelectStart;\n  let prevDragStart;\n\n  return {\n    capture,\n    release\n  };\n\n  function capture(domObject) {\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n\n    window.document.onselectstart = disabled;\n\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/drag.js","import intersect from 'gintersect';\n\nconst nodeSize = {\n  width: 60,\n  height: 45\n};\n\nexport function getFromTo(edge) {\n  const toPos = edge.pos.to;\n  const fromPos = edge.pos.from;\n\n  const from = intersectRect(\n      fromPos.x - nodeSize.width / 2, // left\n      fromPos.y - nodeSize.height / 2, // top\n      fromPos.x + nodeSize.width / 2, // right\n      fromPos.y + nodeSize.height / 2, // bottom\n      fromPos.x, fromPos.y, toPos.x, toPos.y) || fromPos;\n\n  const to = intersectRect(\n      toPos.x - nodeSize.width / 2, // left\n      toPos.y - nodeSize.height / 2, // top\n      toPos.x + nodeSize.width / 2, // right\n      toPos.y + nodeSize.height / 2, // bottom\n      toPos.x, toPos.y, fromPos.x, fromPos.y) || toPos;\n\n  return { from, to };\n}\n\nfunction intersectRect(left, top, right, bottom, x1, y1, x2, y2) {\n  return intersect(left, top, left, bottom, x1, y1, x2, y2) ||\n    intersect(left, bottom, right, bottom, x1, y1, x2, y2) ||\n    intersect(right, bottom, right, top, x1, y1, x2, y2) ||\n    intersect(right, top, left, top, x1, y1, x2, y2);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/geom.js","import createGraph from 'ngraph.graph';\n\nimport ProgressToken from './ProgressToken.js';\nimport { searchVideos, findRelatedVideos } from './youtubeClient.js';\n\nconst MAX_LEVELS = 1;\nconst similarPerNode = 10;\nconst similarPerRequest = 15;\n\nexport function buildYouTubeVideoGraph(searchTerm) {\n  let root;\n  const graph = createGraph({ uniqueLinkIds: false });\n  const progress = new ProgressToken();\n\n  searchVideos(searchTerm, (result) => {\n    onSearchVideoComplete(result.items && result.items[0], progress);\n  }, () => { // error\n    progress.complete('No video found for your request');\n  });\n\n  return {\n    progress,\n    graph\n  };\n\n  function onSearchVideoComplete(video, progress) {\n    if (progress.isCanceled()) {\n      return;\n    }\n\n    if (video) {\n      progress.update('Searching related videos...');\n\n      root = video;\n      root.isPinned = true;\n      root.isRoot = true;\n      addNodeToGraph(getVideoId(root), root);\n\n      findRelatedVideos(root, 10, (r) => {\n        onRelatedToRootFound(r, progress);\n      }, () => {\n        progress.complete('Could not find related videos');\n      });\n    } else {\n      progress.complete('No videos found for your request');\n    }\n  }\n\n  function onRelatedToRootFound(relatedResponse, progress) {\n    if (progress.isCanceled()) {\n      return;\n    }\n\n    const result = relatedResponse.items;\n\n    if (!result || result.length === 0) {\n      progress.complete();\n    }\n\n    graph.beginUpdate();\n\n    for (let i = 0; i < result.length; ++i) {\n      const similar = result[i];\n      addNodeToGraph(getVideoId(similar), similar);\n      addLinkToGraphFiltered(getVideoId(similar), getVideoId(root));\n      similar.level = 0;\n    }\n\n    graph.endUpdate();\n\n    progress.update('Found ' + result.length + ' related videos. Searching more...');\n\n    loadMissing(result, progress);\n  }\n\n  function loadMissing(itemsToProcess, progress) {\n    if (progress.isCanceled()) {\n      return;\n    }\n\n    if (itemsToProcess.length === 0) {\n      progress.complete();\n    }\n\n    const item = itemsToProcess.shift();\n    if (item.level >= MAX_LEVELS) {\n      // We are beyond allowed level. Complete the graph building.\n      progress.complete();\n      return;\n    }\n\n    findRelatedVideos(item, similarPerRequest, (r) => {\n      if (progress.isCanceled()) {\n        return;\n      }\n\n      const result = r.items;\n      const rootId = getVideoId(item);\n\n      graph.beginUpdate();\n\n      for (let i = 0; i < result.length; ++i) {\n        const similar = result[i];\n        const similarId = getVideoId(similar);\n        let hasNode = graph.getNode(similarId);\n\n        if (!hasNode && i < similarPerNode) {\n          addNodeToGraph(similarId, similar);\n          similar.level = item.level + 1;\n          itemsToProcess.push(similar);\n          hasNode = similar;\n        }\n\n        // The node could be in the graph, but it's not among first top similarPerNode\n        // nodes. Nevertheless, we track such relationship and display a link.\n        if (!graph.hasLink(similarId, rootId) && hasNode) {\n          addLinkToGraphFiltered(similarId, rootId);\n        }\n      }\n\n      graph.endUpdate();\n      progress.update('Found ' + graph.getNodesCount() + ' videos. Searching more...');\n      loadMissing(itemsToProcess, progress);\n    }, () => { // Error handler\n      progress.update('Could not find related videos for one video. Skipping this one and searching for more...');\n      loadMissing(itemsToProcess, progress);\n    });\n  }\n\n  function addNodeToGraph(nodeId, data) {\n    graph.addNode(nodeId, extractData(data));\n  }\n\n  function extractData(data) {\n    return {\n      isPinned: data.isPinned,\n      imageUrl: data.snippet.thumbnails.medium.url,\n      title: data.snippet.title\n    };\n  }\n\n  function addLinkToGraphFiltered(linkId, rootId) {\n    const link = graph.getNode(linkId);\n    const root = graph.getNode(rootId);\n\n    if (!link || !root) return;\n\n    graph.addLink(linkId, rootId);\n  }\n}\n\nfunction getVideoId(video) {\n  return video.id.videoId;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/graphBuilder.js","/**\n * Super simple ajax client\n */\nexport default function get(url) {\n  return new Promise((resolve, reject) => {\n    const oReq = new XMLHttpRequest();\n    oReq.addEventListener('load', resolveBound);\n    oReq.addEventListener('error', reject);\n    oReq.open('GET', url);\n    oReq.send();\n\n    function resolveBound() {\n      resolve(this.responseText);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/restClient.js","import httpGet from './restClient.js';\n\nconst key = 'AIzaSyAb3ea-42-gpQf0-p9XdHbY30jI4ntqPNI';\nconst origin = 'https://www.googleapis.com/youtube/v3/';\n\nfunction buildParameters(request) {\n  request.key = key;\n  request.type = 'video';\n\n  return Object.keys(request).map(key => {\n    return encodeURIComponent(key) + '=' + encodeURIComponent(request[key]);\n  }).join('&');\n}\n\nfunction makeRequestToOrigin(origin, request, callback, error) {\n  const parameters = buildParameters(request);\n\n  if (parameters.length === 0) {\n    throw new Error('Invalid request arguments');\n  }\n\n  const dataUrl = origin + (origin.indexOf('?') === -1 ? '?' : '&') + parameters;\n\n  return httpGet(dataUrl).then(msg => {\n    callback(JSON.parse(msg));\n  }).catch((err) => {\n    console.log('Caught error', err);\n    error(err);\n  });\n}\n\nfunction makeRequest(request, callback, error) {\n  return makeRequestToOrigin(origin + 'search', request, callback, error);\n}\n\nexport function searchVideos(query, callback, error, extra) {\n  const args = Object.assign({\n    part: 'snippet',\n    q: query,\n    maxResults: 10\n  }, extra);\n\n  return makeRequest(args, callback, error);\n}\n\nexport function findRelatedVideos(video, maxResults, callback, error) {\n  return makeRequest({\n    part: 'snippet',\n    maxResults: (typeof maxResults === 'number' ? maxResults : 10),\n    relatedToVideoId: video.id.videoId\n  }, callback, error);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/youtubeClient.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <graph-view class='visualization' :graph='currentGraph' @selected='onVideoSelected'></graph-view>\n    <form id='searchForm' @submit.prevent='searchFormSubmitHandler'>\n        <input type='text' id='searchString' placeholder='Enter YouTube search query' autofocus v-model='searchString'/>\n        <input type='submit' id='startSearch' title='Start visualization' value='Show Graph' />\n    </form>\n\n    <div class='log-message' v-if='logMessage'>{{logMessage}}</div>\n    <video-preview :videoId='selectedVideo' @close='closeVideo'></video-preview>\n    <div class='footer'>\n        <a @click.prevent='showAbout = true' class='about-link'>About</a>\n    </div>\n    <div id='copyText'>Made with <span class='heart'>♥</span> by Andrei Kashcha</div>\n\n\n    <div id='about' v-if='showAbout'>\n        <h2>About Yasiv</h2>\n        <div style='text-align: left'>\n            <p>This web site shows related videos from the YouTube.</p>\n            <p>Enter a search term in the box above, and press the \"Show Graph\" button.</p>\n            <p>Each icon is a YouTube video. Each connection means that videos are related (according to YouTube).</p>\n            <p><a href='https://twitter.com/anvaka'>Andrei Kashcha</a></p>\n        </div>\n        <ul>\n            <li><a href=\"https://github.com/anvaka/yasiv-youtube\">GitHub</a></li>\n            <li><a href=\"https://twitter.com/#!/yasivcom\">Twitter</a></li>\n            <li><a href=\"http://www.facebook.com/pages/Yasiv/234739739945193\">Facebook</a></li>\n            <li><a href='mailto:anvaka@yasiv.com'>Email</a></li>\n        </ul>\n        <a href='#' @click.prevent='showAbout = false'  class='close-about' title='Close this message'>Close</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport queryState from 'query-state';\nimport GraphView from './components/GraphView.vue';\nimport VideoPreview from './components/VideoPreview.vue';\n\nimport { buildYouTubeVideoGraph } from './lib/graphBuilder.js';\n\nconst qs = queryState();\n\nexport default {\n  name: 'app',\n  data() {\n    const searchString = qs.get('q') || '';\n\n    return {\n      request: null,\n      logMessage: 'Hello',\n      searchString,\n      showAbout: searchString.length === 0,\n      selectedVideo: null,\n    };\n  },\n\n  created() {\n    qs.onChange(this.onQueryChange, this);\n    this.startSearch();\n  },\n\n  computed: {\n    currentGraph() {\n      if (this.request) {\n        return this.request.graph;\n      }\n    },\n  },\n\n  methods: {\n    closeVideo() {\n      this.selectedVideo = null;\n    },\n    searchFormSubmitHandler() {\n      qs.set({ q: this.searchString });\n      this.startSearch();\n    },\n\n    onVideoSelected(videoId) {\n      this.selectedVideo = videoId;\n    },\n\n    onQueryChange() {\n      this.searchString = qs.get('q');\n      this.startSearch();\n    },\n\n    startSearch() {\n      const q = qs.get('q');\n      if (!q) return;\n\n      if (this.request) {\n        this.request.progress.cancel();\n        // TODO: Clean the scene.\n      }\n      this.showAbout = false;\n\n      this.request = buildYouTubeVideoGraph(q);\n      this.request.progress.onProgress((msg) => {\n        this.logMessage = msg;\n      });\n    }\n  },\n\n  components: {\n    GraphView,\n    VideoPreview\n  }\n};\n</script>\n\n<style>\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n}\n\nhtml {\n    font-size: 100%;\n}\nbody {\n  margin: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n\n  /* font info has to be applied to body so it applies to mouseovers and date picker */\n  font-family: Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.window {\n  left: 8px;\n  top: 64px;\n  width: 420px;\n  height: 290px; /* 248 - is golden ratio of 420 + 42px for the header */\n  box-shadow: 0 2px 4px rgba(0,0,0,.2), 0 -1px 0 rgba(0,0,0,.02);\n}\na.primary-action {\n  color: #ff4081;\n}\na {\n  color: #4183C4;\n  text-decoration: none;\n  cursor: pointer;\n}\na:hover {\n  color: #ff4081;\n}\n\n.visualization {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n#searchForm {\n  padding: 0 14px;\n  position: absolute;\n  white-space: nowrap;\n  background: white;\n  box-shadow: 0 2px 4px rgba(0,0,0,.2), 0 -1px 0 rgba(0,0,0,.02);\n  top: 8px;\n  left: 8px;\n  width: 420px;\n  display: flex;\n}\n#searchString {\n  height: 56px;\n  padding-left: 10px;\n  font-size: 18px;\n  outline: none;\n  border: none;\n  flex: 1;\n}\n\n#searchString:focus {\n  border: none;\n}\n\n#startSearch {\n  color: #4183C4;\n  background: transparent;\n  border: none;\n  padding: 0;\n  font-size: 14px;\n  cursor: pointer;\n  margin-left: 4px;\n}\n\n#startSearch:hover {\n  color: #ff4081;\n}\n\n\n#header {\n    text-align: center;\n    background: #6DAEE1;\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 28px;\n    color : white;\n}\n\n.footer {\n  position: absolute;\n  width: 100%;\n  bottom : 9px;\n  display: flex;\n  justify-content: center;\n}\n\n#copyText {\n  position: absolute;\n  left: 10px;\n  bottom: 9px;\n  font-size: 9px;\n  color: #999;\n}\n\n#about {\n  position: absolute;\n  left: 8px;\n  padding: 14px;\n  top: 64px;\n  width: 420px;\n  background: white;\n  box-shadow: 0 2px 4px rgba(0,0,0,.2), 0 -1px 0 rgba(0,0,0,.02);\n}\n.about-link {\n  background: rgba(255, 255, 255, 0.8);\n  padding: 0 14px;\n}\n.close-about {\n  float: right;\n  margin-right: 14px;\n  font-size: 12px;\n}\n\n.log-message {\n  position: absolute;\n  bottom: 42px;\n  width: 100%;\n  text-align: center;\n  color: #ff4081;\n  padding: 4px;\n  background: rgba(255, 255, 255, 0.8);\n}\n\n@media only screen and (max-width: 600px) {\n  #searchForm {\n    width: 100%;\n    top: 0;\n    left: 0;\n  }\n  .window {\n    left: 0;\n    top: 56px;\n    height: 35vh;\n    width: 100%;\n  }\n  #searchString {\n    font-size: 14px;\n  }\n\n  #about {\n    left: 0;\n    top: 56px;\n    width: 100%;\n  }\n\n  .footer {\n    padding-right: 14px;\n    justify-content: flex-end;\n  }\n}\n.heart {\n  color: #ff4081;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?2dbe4b48","<template>\n  <div>\n    <svg>\n      <g ref='scene'>\n        <g>\n          <path stroke='#999'\n            :data-from='edge.fromId'\n            :data-to='edge.toId'\n            :d='computeLinkPath(edge)' v-for='edge in edges'\n            marker-end='url(#Triangle)'></path>\n        </g>\n        <g>\n          <image width='60' height='45'\n            class='video-thumbnail'\n            :data-id='node.id'\n            :xlink:href='node.data.imageUrl'\n            :x='node.pos.x - 30' :y='node.pos.y - 22.5' v-for='node in nodes'/>\n        </g>\n      </g>\n      <defs>\n        <marker id='Triangle' viewBox='0 0 10 10' refX='5' refY='5' markerUnits='strokeWidth' markerWidth='10' markerHeight='5' orient='auto'>\n          <path d='M 0 0 L 10 5 L 0 10 z' fill='#999'></path>\n        </marker>\n      </defs>\n    </svg>\n    <div class='tooltip' v-if='tooltip.visible' :style='{\n       left: tooltip.x + \"px\",\n       top: tooltip.y + \"px\"\n      }'>\n      {{tooltip.text}}\n    </div>\n  </div>\n</template>\n\n<script>\nimport panZoom from 'panzoom';\nimport createLayout from 'ngraph.forcelayout';\nimport { getFromTo } from '../lib/geom.js';\nimport clap from '../lib/clap.js';\n\nexport default {\n  name: 'GraphView',\n  props: ['graph'],\n  data() {\n    return {\n      nodes: [],\n      edges: [],\n      tooltip: {\n        visible: false,\n        text: '',\n        x: 0,\n        y: 0\n      }\n    };\n  },\n  watch: {\n    graph(newGraph, oldGraph) {\n      if (oldGraph) {\n        this.disposeGraph();\n      }\n\n      this.initializeGraph(newGraph);\n    }\n  },\n\n  mounted() {\n    const { scene } = this.$refs;\n    this.zoomHandle = panZoom(scene, { bounds: true });\n    const rect = this.$el.getBoundingClientRect();\n    this.zoomHandle.moveTo(rect.width / 2, rect.height / 2);\n    this.initEvents(scene);\n    this.initializeGraph(this.graph);\n  },\n\n  methods: {\n    handleMouseEnter(e) {\n      const nodeId = getNodeIdFromDOM(e.target);\n      if (!nodeId) return;\n\n      this.clearHighligh();\n\n      forAll(this.$refs.scene, `path[data-from=\"${nodeId}\"], path[data-to=\"${nodeId}\"]`, addClass('hl'));\n\n      const { title } = this.graph.getNode(nodeId).data;\n      this.showTooltip(e.target, title);\n    },\n\n    handleMouseClick(e) {\n      const nodeId = getNodeIdFromDOM(e.target);\n      if (nodeId) this.$emit('selected', nodeId);\n    },\n\n    showTooltip(el, text) {\n      const rect = el.getBoundingClientRect();\n      const { tooltip } = this;\n      tooltip.text = text;\n      tooltip.x = rect.left + rect.width / 2;\n      tooltip.y = rect.top - 42 / 2;\n      tooltip.visible = true;\n    },\n\n    handleMouseLeave() {\n      this.clearHighligh();\n      this.tooltip.visible = false;\n    },\n\n    clearHighligh() {\n      forAll(this.$refs.scene, '.hl', removeClass('hl'));\n    },\n\n    computeLinkPath(edge) {\n      const { from, to } = getFromTo(edge);\n      let data = 'M';\n\n      data += Math.round(from.x) + ',' + Math.round(from.y);\n      data += 'L' + Math.round(to.x) + ',' + Math.round(to.y);\n\n      return data;\n    },\n    onGraphChanged(changes) {\n      this.iterations = 0;\n      changes.forEach(change => {\n        if (change.changeType === 'add') {\n          if (change.node) this.addNode(change.node);\n          if (change.link) this.addLink(change.link);\n        } else {\n          throw new Error('Not implemented');\n        }\n      });\n\n      this.frame();\n    },\n\n    addNode(graphNode) {\n      const { id, data } = graphNode;\n      const pos = this.layout.getNodePosition(id);\n\n      this.nodes.push({ pos, id, data });\n    },\n\n    addLink(graphLink) {\n      const { id, fromId, toId } = graphLink;\n      const pos = this.layout.getLinkPosition(id);\n\n      this.edges.push({ pos, fromId, toId });\n    },\n\n    disposeGraph() {\n      if (this.graph) {\n        this.graph.off('changed', this.onGraphChanged, this);\n        this.nodes = [];\n        this.edges = [];\n        this.graph = null;\n      }\n      if (this.layout) {\n        this.layout.dispose();\n        this.layout = null;\n      }\n      if (this.layoutLoop) {\n        cancelAnimationFrame(this.layoutLoop);\n        this.layoutLoop = null;\n      }\n    },\n\n    initEvents(scene) {\n      // TODO: This should be disposed properly\n      scene.addEventListener('mouseenter', this.handleMouseEnter.bind(this), true);\n      scene.addEventListener('mouseleave', this.handleMouseLeave.bind(this), true);\n      this.clapDispose = clap(scene, this.handleMouseClick.bind(this), true);\n    },\n\n    initializeGraph(newGraph) {\n      if (!newGraph) return;\n\n      this.layout = createLayout(newGraph, {\n        springLength: 80,\n        springCoeff: 0.0004,\n        dragCoeff: 0.05,\n        gravity: -50,\n        theta: 0.5\n      });\n      this.nodes = [];\n      this.edges = [];\n      const graph = newGraph;\n\n      graph.forEachNode((node) => {\n        this.addNode(node);\n      });\n\n      graph.forEachLink((link) => {\n        this.addLink(link);\n      });\n\n      this.graph.on('changed', this.onGraphChanged, this);\n      this.boundFrame = this.frame.bind(this);\n      this.frame();\n    },\n\n    frame() {\n      if (!this.layout) return;\n\n      this.layout.step();\n\n      this.iterations += 1;\n      if (this.layout.lastMove > 20 || this.iterations < 100) {\n        // we assume we are note converged yet.\n        this.layoutLoop = requestAnimationFrame(this.boundFrame);\n      }\n    }\n  },\n\n  destroyed() {\n    if (this.zoomHandle) {\n      this.zoomHandle.dispose();\n    }\n    this.disposeGraph();\n    if (this.clapDispose) {\n      this.clapDispose();\n    }\n  }\n};\n\nfunction getNodeIdFromDOM(el) {\n  const isNode = (el && el.classList.contains('video-thumbnail'));\n  if (!isNode) return;\n\n  return el.getAttribute('data-id');\n}\n\nfunction forAll(scene, query, action) {\n  (Array.from(scene.querySelectorAll(query))).forEach(action);\n}\n\nfunction addClass(className) {\n  return el => el.classList.add(className);\n}\n\nfunction removeClass(className) {\n  return el => el.classList.remove(className);\n}\n</script>\n\n<style scoped>\nsvg {\n  width: 100%;\n  height: 100%;\n}\npath.hl {\n  stroke: RGB(51, 182, 121);\n  stroke-width: 2px;\n}\n.video-thumbnail {\n  cursor: pointer;\n}\n.tooltip {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.8);\n  pointer-events: none;\n  transform: translate(-50%, 0);\n  white-space: nowrap;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// GraphView.vue?f23e6d84","<template>\n  <window :title='title' v-show='videoId' @close='closeVideo'>\n    <div id='player'></div>\n  </window>\n</template>\n\n<script>\nimport Window from './Window.vue';\n\n/* globals YT */\nexport default {\n  name: 'VideoPreview',\n  props: ['videoId'],\n  mounted() {\n    if (this.videoId) this.play(this.videoId);\n  },\n  data() {\n    return {\n      title: 'Video Preview',\n    };\n  },\n\n  components: {\n    Window\n  },\n\n  watch: {\n    videoId(newVideoId) {\n      this.play(newVideoId);\n    }\n  },\n\n  methods: {\n    closeVideo() {\n      this.$emit('close');\n    },\n\n    play(videoId) {\n      if (this.player) {\n        this.player.destroy();\n        this.player = null;\n      }\n\n      if (!videoId) {\n        return;\n      }\n\n      this.player = new YT.Player('player', {\n        height: '100%',\n        width: '100%',\n        videoId,\n        events: {\n          onReady: () => {\n            const data = this.player.getVideoData();\n            this.title = data.title;\n            this.player.playVideo();\n          },\n          // onError : () => { onPlayerError(); }\n        }\n      });\n    }\n  }\n};\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// VideoPreview.vue?8eb09522","<template>\n  <div class='window' :style='getStyle()'>\n    <div class='header' ref='header'>\n      <span class='title'>{{title}}</span>\n      <a class='close-video no-drag' title=\"Close\" @click.prevent='requestClose'>close</a>\n    </div>\n    <div class='content'>\n      <slot></slot>\n    </div>\n    <div ref='left' class='left resize'></div>\n    <div ref='right' class='right resize'></div>\n    <div ref='top' class='top resize'></div>\n    <div ref='bottom' class='bottom resize'></div>\n    <div ref='leftTop' class='left-top resize'></div>\n    <div ref='rightTop' class='right-top resize'></div>\n    <div ref='leftBottom' class='left-bottom resize'></div>\n    <div ref='rightBottom' class='right-bottom resize'></div>\n  </div>\n</template>\n\n<script>\n\nimport createDrag from '../lib/drag.js';\n\nexport default {\n  name: 'Window',\n  props: ['title', 'width', 'height', 'x', 'y'],\n  data() {\n    // 'c' stands for 'current'\n    return {\n      moved: false,\n      cWidth: this.width || 420,\n      cHeight: this.height || 290,\n      cX: this.x || 0,\n      cY: this.y || 0\n    };\n  },\n\n  mounted() {\n    initDefaultPos(this.$el, this);\n\n    const drags = createMovers().map(mover => {\n      return createDrag(this.$refs[mover.name], (dx, dy) => {\n        const pos = mover.update(this, dx, dy);\n        if (pos.cX !== undefined) {\n          this.cX = pos.cX;\n        }\n        if (pos.cY !== undefined) {\n          if (pos.cY >= 0) this.cY = pos.cY;\n        }\n        // TODO: This should not be really hardcoded.\n        if (pos.cWidth !== undefined) {\n          this.cWidth = pos.cWidth;\n        }\n        if (pos.cHeight !== undefined) {\n          if (pos.cHeight >= 1) this.cHeight = pos.cHeight;\n        }\n        this.moved = true;\n      });\n    });\n\n    this.drags = drags;\n  },\n\n  destroyed() {\n    if (this.drags) {\n      this.drags.forEach(drag => drag.dispose());\n    }\n  },\n\n  methods: {\n    getStyle() {\n      if (this.moved) {\n        return {\n          left: this.cX + 'px',\n          top: this.cY + 'px',\n          width: this.cWidth + 'px',\n          height: this.cHeight + 'px'\n        };\n      }\n    },\n    requestClose() {\n      this.$emit('close', this);\n    },\n  }\n};\n\nfunction createMovers() {\n  return [{\n    name: 'header',\n    update(pos, dx, dy) {\n      return {\n        cX: pos.cX + dx,\n        cY: pos.cY + dy\n      };\n    }\n  }, {\n    name: 'right',\n    update(pos, dx) {\n      return {\n        cWidth: pos.cWidth + dx\n      };\n    }\n  }, {\n    name: 'left',\n    update(pos, dx) {\n      return {\n        cX: pos.cX + dx,\n        cWidth: pos.cWidth - dx\n      };\n    }\n  }, {\n    name: 'top',\n    update(pos, dx, dy) {\n      return {\n        cY: pos.cY + dy,\n        cHeight: pos.cHeight - dy\n      };\n    }\n  }, {\n    name: 'bottom',\n    update(pos, dx, dy) {\n      return {\n        cHeight: pos.cHeight + dy\n      };\n    }\n  }, {\n    name: 'leftBottom',\n    update(pos, dx, dy) {\n      return {\n        cX: pos.cX + dx,\n        cWidth: pos.cWidth - dx,\n        cHeight: pos.cHeight + dy\n      };\n    }\n  }, {\n    name: 'rightBottom',\n    update(pos, dx, dy) {\n      return {\n        cHeight: pos.cHeight + dy,\n        cWidth: pos.cWidth + dx\n      };\n    }\n  }, {\n    name: 'leftTop',\n    update(pos, dx, dy) {\n      return {\n        cY: pos.cY + dy,\n        cX: pos.cX + dx,\n        cHeight: pos.cHeight - dy,\n        cWidth: pos.cWidth - dx\n      };\n    }\n  }, {\n    name: 'rightTop',\n    update(pos, dx, dy) {\n      return {\n        cY: pos.cY + dy,\n        cHeight: pos.cHeight - dy,\n        cWidth: pos.cWidth + dx\n      };\n    }\n  }];\n}\n\nfunction initDefaultPos(el, pos) {\n  const style = window.getComputedStyle(el);\n  pos.cX = parsePx(style.left);\n  pos.cY = parsePx(style.top);\n  pos.cHeight = parsePx(style.height);\n  if (style.width === '100%') {\n    pos.cWidth = el.parentElement.clientWidth;\n  } else {\n    pos.cWidth = parsePx(style.width);\n  }\n}\n\nfunction parsePx(str) {\n  if (!str) return 0;\n\n  return Number.parseInt(str, 10);\n}\n</script>\n\n<style scoped>\n.window {\n  position: absolute;\n  background: RGB(51, 182, 121);\n}\n\n.content {\n  position: absolute;\n  top: 42px;\n  left: 2px;\n  right: 2px;\n  bottom: 2px;\n}\n\n.resize {\n  position: absolute;\n}\n\n.resize.top, .resize.bottom {\n  width: 100%;\n  height: 4px;\n  cursor: ns-resize;\n}\n\n.resize.top {\n  top: -2px;\n}\n.resize.bottom {\n  bottom: -2px;\n}\n.resize.left {\n  right: -2px;\n}\n.resize.left {\n  left: -2px;\n}\n\n.resize.left, .resize.right {\n  height: 100%;\n  width: 4px;\n  cursor: ew-resize;\n  top: 0;\n}\n\n.resize.right {\n  right: -1px;\n}\n\n.left-top, .right-top, .left-bottom, .right-bottom {\n  width: 16px;\n  height: 16px;\n}\n.right-top {\n  cursor: nesw-resize;\n  right: -8px;\n  top: -8px;\n}\n\n.left-top {\n  cursor: nwse-resize;\n  top: -8px;\n  left: -8px;\n}\n\n.right-bottom {\n  cursor: nwse-resize;\n  right: -8px;\n  bottom: -8px;\n}\n.left-bottom {\n  cursor: nesw-resize;\n  bottom: -8px;\n  left: -8px;\n}\n.close-video {\n  color: white;\n  cursor: pointer;\n}\n\n.header {\n  height: 42px;\n  align-items: center;\n  display: flex;\n  padding: 0 14px;\n  justify-content: space-between;\n  color: white;\n  cursor: move;\n}\n.title {\n  white-space: nowrap;\n  overflow: hidden;\n  margin-right: 20px;\n  text-overflow: ellipsis;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Window.vue?df133436"],"sourceRoot":""}